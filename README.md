# 수소 충전소 예약 서비스
![KakaoTalk_Photo_2024-12-14-15-43-46](https://github.com/user-attachments/assets/7c29ef06-d8a9-4982-839f-f1e8625637c9)
![KakaoTalk_Photo_2024-12-14-15-44-44](https://github.com/user-attachments/assets/17babe99-a6ca-41eb-ba56-98cb9d8fdac5)


## 사용 기술
1. 비동기 소켓 통신
2. FRONT-BACK CURD 작업
3. UI/UX

## 사용 언어
1. python
2. c

## 사용 DB
1. mariaDB

---

### 기술의 현황
현대 제철의 수소 생산설비가 고장 나는 바람에 수소가 턱없이 부족해져 수소차 충전소에 수소가 떨어졌다. 그로 인해 운전자들이 큰 불편을 겪었다. 충전소 부족으로 인해 인파가 쏠리는 현상이 나타나 충전압이 낮아졌다. 그로 인해 충전소에서 차들이차량들이 3~4시간 대기해 수소 압력이 높아질 때까지 대기하였다가 수소를 충전하는가 하면, 여유 물량이 있는 충전소를 찾아다니다가 연료가 떨어져 견인되는 사례가 발생했다. 이러한 상황을 대비하기 위해 주변 수소충전소의 정보(혼잡도, 수소 압력, 영업 여부 등)를 확인하고 예약할 수 있는 서비스를 만들었다.

### 프로젝트 동기 및 목표
기존 충전소 예약 서비스에서 나타나는 사용자 불만과 불편함에 주목하였다. 기존 서비스의 제한된 충전소 예약, 오류 및 부정확한 정보로 인한 사용자 불편 등을 개선하는 데에 있다. 

프로젝트의 목표는 실시간 API를 사용하여 정확하고 신속한 충전소 정보를 제공하고 전국의 모든 수소충전소에 대해 예약가능하게 만들어 사용자 경험 향상을 통해 더 나은 서비스를 제공하는 것이다.

### 사용 장비 및 개발 환경

사용된 장비: MacBook M1 Air, Window PC
사용된 개발 환경: Mac OS, Linux, Visual Studio Code, Visual Studio 2022

## 요구사항 분석

### 기능적 요구사항
- 수소 자동차 이용자에 대한 수소 충전 서비스 예약 기능
- 국내 충전소 정보 현황을 확인하는 기능
- 수소 충전소 예약 정보를 데이터베이스에 저장하는 기능
- 예약한 정보를 조회하는 기능
- 허가되지 않고 지원하지 않는 동작에 대한 처리 기능


### 비기능적 요구사항
- 사용자는 GUI 환경(웹, 애플리케이션 등)에서 예약 서비스를 이용
- 사용자에게 제공되는 충전소의 실시간 정보
- 사용자들은 지도 기반의 UI를 통해 국내 수소 충전소 정보를 확인
- 사용자들은 데이터베이스에서 불러온 정보를 예약 정보 페이지를 통해 과거 및 현재 예약 기록을 확인


### 사용자 요구사항
- 직관적이고 친숙한 사용자 친화적 인터페이스를 제공하기 위해 GUI를 사용
- 수소 충전소 예약 시스템을 사용할 때, 결제 시 다양한 결제 방식 지원


### 시스템 요구사항
- 충전소 정보 및 위치와 예약 정보의 안정적인 관리를 요구
- 크로스 플랫폼을 위하여 다양한 기기와 운영체제를 지원

## 소스 구조
```
.
├── Client
│   ├── pages
│   │    ├ home.py
│   │    ├ myres_chg_check.py
│   │    ├ myres_chg.py
│   │    ├ myres_result.py
│   │    ├ reservation_check.py
│   │    ├ reservation.py
│   │    ├ sucsess_chg.py
│   │    └ sucsess.py
│   ├── api.py
│   ├── data.xlsx
│   ├── main.py
│   ├── test.c
│   ├── test.o
│   └── test.so
└── Server.py
```

## 분석
1. 인코딩, 디코딩
클라이언트/서버 통신 시 json 형식으로 직렬화를 한 데이터를 바이너리 타입으로 인코딩을 통해 서버/클라이언트 측으로 전달하고, 전달 받은 측에서 디코딩을 통해 데이터를 복원해야 했다.
클라이언트가 서버 측으로 데이터베이스에서 response를 요청하면 서버는 데이터를 처리하여 클라이언트 측으로 전달해야 한다. 그 과정에서 요청한 측이 값을 다 전달 받기 전에 전송이 끊어져 온전한 데이터를 수신하지 못했다. 그래서 가변 길이 데이터 전송 방식을 활용하여 데이터의 끝을 알리는 문자가 오기 전까지 수신하고, 이후 송신을 종료하니 데이터를 온전히 받을 수 있었다.

2. 버퍼 사이즈
서버 측에서 보내는 데이터의 양이 커서 버퍼 사이즈가 충분하지 못해 값을 다 담지 못하는 문제가 발생했다. 그래서 버퍼 사이즈를 조절하여 서버측에서 보내주는 값을 전부 담을 수 있도록 버퍼 사이즈를 조절했다.

3. [클라이언트 <– 서버] 데이터 수신 후 GUI 전달
데이터를 수신한 뒤 데이터를 가공하여 GUI에 전달해야 하는데 C로 작성한 Client측에서는 GUI로 전달하는 부분에서 어려움이 있었다. 이 문제를 해결하기 위해 Python으로 작성한 웹서버 측 코드 안에 C로 작성한 Client 코드를 삽입하고 C로 통신한 값을 버퍼에 저장해 Python으로 받아 GUI로 출력하는 방식으로 진행했다.

현재 GUI는 예약과 취소, 예약 내역을 확인할 수 있다. 향후 예약 시간 변경, 충전압, 혼잡도 표시를 지원 할 예정이다. 이 서비스를 통해 수소차 충전소와 관련된 문제들을 해결하는데 도움을 줄 수 있을 것으로 예상된다.


## 실험 결과
1.대한민국 정부와 기업 차원에서 차세대 에너지 사용 대중화 전략: 이 프로젝트를 통해 차세대 에너지인 수소에 대한 인식을 높일 수 있었고, 정부와 기업의 수소에너지 대중화 전략에 따라 서비스를 제공하므로 수소에너지의 활용도와 접근성을 향상시켰다.

2.기존의 서비스가 실패한 원인 파악: 기존 서비스의 실패 원인을 파악하기 위해 사용자 피드백과 서비스,기존서비스를 실제 사용,기존서비스 이용 후기를 분석을 통해 이 프로젝트에서는 그 문제를 해결하고 사용자의 불편함을 줄여 이를 통해 서비스의 만족도를 높였다.

3.수소 충전소의 정확한 정보와 예약 정보 제공: 실시간 API를 사용하여 수소 충전소의 정보를 신속하고 정확하게 제공함으로써, 사용자는 항상 최신 정보를 바탕으로 충전소를 예약을 통해 사용자의 편의성을 높였다.

4.효율적인 시스템 디자인 및 인원 배치: 이 프로젝트는 짧은 개발 기간 동안 효율적으로 시스템을 설계하고 인원을 배치함으로써, 프로젝트의 생산성을 높였다.





---

사용 라이브러리 
- https://streamlit.io/

사용 데이터
- 수소 충전소 실시간 데이터 : https://www.h2nbiz.or.kr/sym/mnu/mpm/EgovMainMenuIndex.do?menuNo=50800&chkURL=/rt/uif/api/openApiInfo.do
